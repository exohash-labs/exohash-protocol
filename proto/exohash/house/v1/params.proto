syntax = "proto3";

package exohash.house.v1;

import "amino/amino.proto";
import "cosmos/base/v1beta1/coin.proto";
import "gogoproto/gogo.proto";

option go_package exohash.house.v1;

// Params defines the parameters for the module.
message Params {
  option (amino.name) = "exohash/x/house/Params";

  // Economics
  uint32 take_rate_of_edge_bp = 2;
  uint32 fee_split_valrewards_bp = 3;

  // Anti-spam creation fees (burned)
  cosmos.base.v1beta1.Coin bankroll_creation_fee = 4 [(gogoproto.nullable) = false];
  cosmos.base.v1beta1.Coin game_creation_fee = 5 [(gogoproto.nullable) = false];

  // Deposit/withdraw anti-spam
  cosmos.base.v1beta1.Coin min_deposit_amount = 6 [(gogoproto.nullable) = false];
  cosmos.base.v1beta1.Coin min_withdraw_amount = 7 [(gogoproto.nullable) = false];
  uint32 max_open_withdraw_requests_per_user_per_bankroll = 8;
  cosmos.base.v1beta1.Coin withdraw_request_fee = 9 [(gogoproto.nullable) = false];

  // Game definition limits
  uint32 max_game_config_bytes = 10;
  uint32 max_engine_name_len = 11;

  // Bankroll-game admin action controls
  cosmos.base.v1beta1.Coin bankroll_game_add_fee = 12 [(gogoproto.nullable) = false];
  cosmos.base.v1beta1.Coin bankroll_game_state_change_fee = 13 [(gogoproto.nullable) = false];
  uint32 min_blocks_between_game_status_changes = 14;
  uint32 min_blocks_between_add_game = 15;
  uint32 max_games_per_bankroll = 16;

  // Optional: prevent empty bankrolls from enabling games
  cosmos.base.v1beta1.Coin min_bankroll_balance_to_add_game = 17 [(gogoproto.nullable) = false];

  // Safety rails for per-bankroll overrides.
  uint32 max_payout_cap_bps_max = 18;
  uint32 max_reserved_bps_max = 19;

  // Pruning lifecycle controls (0 = disabled).
  uint32 arena_prune_phase1_blocks = 20;
  uint32 arena_prune_phase2_blocks = 21;
  uint32 bet_prune_blocks = 22;

  // Per-block caps to avoid catch-up spikes.
  uint32 prune_max_wakeups_per_block = 23;
  uint32 bet_prune_max_per_block = 24;
}
